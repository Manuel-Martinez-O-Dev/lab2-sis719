(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const f="https://pokeapi.co/api/v2/";async function y(e,t){const o=`${f}${e}/${t.toLowerCase()}`,r=await fetch(o);if(!r.ok)throw new Error(`No se pudo obtener ${e} con identificador "${t}"`);return await r.json()}function g(e){return y("pokemon",e)}function h(e){const t=document.getElementById("result");t.innerHTML=`
    <h2>${e.name.toUpperCase()}</h2>
    <p>ID: ${e.id}</p>
    <p>Peso: ${e.weight/10} kg</p>
    <p>Tipos: ${e.types.map(o=>o.type.name).join(", ")}</p>
    <p>Habilidades: ${e.abilities.map(o=>o.ability.name).join(", ")}</p>
    <div>
      ${Object.entries(e.sprites).filter(([o,r])=>typeof r=="string"&&r!==null).map(([o,r])=>`<img src="${r}" alt="${o}" title="${o}" />`).join("")}
    </div>

  `,E(e.name),u()}function E(e){let t=JSON.parse(localStorage.getItem("pokemonHistory")||"[]");t.includes(e)||(t.push(e),localStorage.setItem("pokemonHistory",JSON.stringify(t)))}function L(){let e=JSON.parse(localStorage.getItem("pokemonHistory")||"[]");return e.length>0?e[e.length-1]:null}function u(){const e=document.getElementById("history");let t=JSON.parse(localStorage.getItem("pokemonHistory")||"[]");e.innerHTML="<h3>Historial de BÃºsqueda</h3>",t.forEach(o=>{const r=document.createElement("button");r.textContent=o,r.addEventListener("click",()=>c(o)),e.appendChild(r)})}const I=document.getElementById("searchInput"),$=document.getElementById("searchBtn"),p=document.getElementById("nextBtn"),m=document.getElementById("prevBtn"),v=document.createElement("history"),l=document.getElementById("result");l.before(v);l.before(m,p);let s=null;$.addEventListener("click",async()=>{const e=I.value.trim();e&&c(e)});m.addEventListener("click",()=>{s&&s>1&&c((s-1).toString())});p.addEventListener("click",()=>{s&&c((s+1).toString())});async function c(e){l.innerHTML="ðŸ”„ Buscando...";try{const t=await g(e);s=t.id,h(t)}catch(t){l.innerHTML=`<p style="color:red;">${t.message}</p>`}}const d=L();d&&c(d);u();
